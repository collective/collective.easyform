<configure
    xmlns="http://namespaces.zope.org/zope"
    xmlns:browser="http://namespaces.zope.org/browser"
    xmlns:zcml="http://namespaces.zope.org/zcml"
    >
  <browser:page
      name="fields"
      for="collective.easyform.interfaces.IEasyForm"
      permission="cmf.ModifyPortalContent"
      class=".fields.EasyFormFieldsView"
      allowed_interface="collective.easyform.interfaces.IEasyFormFieldsContext"
      />
  <browser:page
      name="listing"
      for="collective.easyform.interfaces.IEasyFormFieldsContext"
      permission="cmf.ModifyPortalContent"
      class=".fields.EasyFormFieldsListingPage"
      layer="..interfaces.IEasyFormLayer"
      />
  <browser:page
      name="add-field"
      for="collective.easyform.interfaces.IEasyFormFieldsContext"
      permission="cmf.ModifyPortalContent"
      class="plone.schemaeditor.browser.schema.add_field.FieldAddFormPage"
      layer="..interfaces.IEasyFormLayer"
      />
  <browser:page
      name="add-fieldset"
      for="collective.easyform.interfaces.IEasyFormFieldsContext"
      permission="cmf.ModifyPortalContent"
      class="plone.schemaeditor.browser.schema.add_fieldset.FieldsetAddFormPage"
      layer="..interfaces.IEasyFormLayer"
      />
  <browser:page
      name="edit"
      for="collective.easyform.interfaces.IEasyFormFieldContext"
      permission="cmf.ModifyPortalContent"
      class=".fields.EditView"
      layer="..interfaces.IEasyFormLayer"
      />
  <browser:page
      name="order"
      for="collective.easyform.interfaces.IEasyFormFieldContext"
      permission="cmf.ModifyPortalContent"
      class="plone.schemaeditor.browser.field.order.FieldOrderView"
      attribute="move"
      layer="..interfaces.IEasyFormLayer"
      />
  <browser:page
      name="delete"
      for="collective.easyform.interfaces.IEasyFormFieldContext"
      permission="cmf.ModifyPortalContent"
      class="plone.schemaeditor.browser.field.order.FieldOrderView"
      attribute="delete"
      layer="..interfaces.IEasyFormLayer"
      />
  <browser:page
      name="changefieldset"
      for="collective.easyform.interfaces.IEasyFormFieldContext"
      permission="cmf.ModifyPortalContent"
      class="plone.schemaeditor.browser.field.fieldset.ChangeFieldsetView"
      attribute="change"
      layer="..interfaces.IEasyFormLayer"
      />
  <configure zcml:condition="installed plone.resourceeditor">
    <browser:page
        name="modeleditor"
        for="collective.easyform.interfaces.IEasyFormFieldsContext"
        permission="cmf.ModifyPortalContent"
        class=".fields.ModelEditorView"
        template="modeleditor.pt"
        layer="..interfaces.IEasyFormLayer"
        />
    <browser:page
        name="model-edit-save"
        for="collective.easyform.interfaces.IEasyFormFieldsContext"
        permission="cmf.ModifyPortalContent"
        class=".fields.AjaxSaveHandler"
        layer="..interfaces.IEasyFormLayer"
        />
  </configure>
  <configure zcml:condition="installed collective.z3cform.norobots">
    <utility
        name="collective.easyform.fields.NorobotCaptcha"
        component="..fields.NorobotFactory"
        />
    <utility
        name="collective.easyform.fields.NorobotCaptcha"
        component="..fields.NorobotCaptchaHandler"
        />
    <adapter
        provides="z3c.form.interfaces.IValidator"
        for="collective.easyform.interfaces.IEasyForm
             *
             collective.easyform.interfaces.IEasyFormForm
             collective.easyform.interfaces.INorobotCaptcha
             *"
        factory="collective.z3cform.norobots.validator.NorobotsValidator"
        />
  </configure>
</configure>
