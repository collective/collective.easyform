<configure
    xmlns="http://namespaces.zope.org/zope"
    xmlns:browser="http://namespaces.zope.org/browser"
    xmlns:z3c="http://namespaces.zope.org/z3c"
    xmlns:zcml="http://namespaces.zope.org/zcml"
    >
  <adapter
      for="collective.easyform.interfaces.IAction
           collective.easyform.interfaces.IActionEditForm"
      factory="z3c.form.browser.checkbox.SingleCheckBoxFieldWidget"
      />
  <include
      package="z3c.form"
      file="meta.zcml"
      />
  <z3c:widgetTemplate
      for="collective.easyform.interfaces.IEasyFormActionsContext"
      template="action_input.pt"
      layer="..interfaces.IEasyFormLayer"
      mode="input"
      widget="z3c.form.interfaces.ICheckBoxWidget"
      />
  <class class=".widgets.LabelWidget">
    <require
        permission="zope.Public"
        interface="collective.easyform.interfaces.ILabelWidget"
        />
  </class>
  <adapter
      for="collective.easyform.interfaces.ILabel
           *"
      factory=".widgets.LabelFieldWidget"
      />
  <class class=".widgets.RichLabelWidget">
    <require
        permission="zope.Public"
        interface="collective.easyform.interfaces.IRichLabelWidget"
        />
  </class>
  <adapter
      for="collective.easyform.interfaces.IRichLabel
           *"
      factory=".widgets.RichLabelFieldWidget"
      />
  <z3c:widgetTemplate
      template="empty.pt"
      layer="..interfaces.IEasyFormLayer"
      mode="display"
      widget="collective.easyform.interfaces.ILabelWidget"
      />
  <z3c:widgetTemplate
      template="empty.pt"
      layer="..interfaces.IEasyFormLayer"
      mode="input"
      widget="collective.easyform.interfaces.ILabelWidget"
      />
  <z3c:widgetTemplate
      template="empty.pt"
      layer="..interfaces.IEasyFormLayer"
      mode="hidden"
      widget="collective.easyform.interfaces.IRichLabelWidget"
      />
  <z3c:widgetTemplate
      template="empty.pt"
      layer="..interfaces.IEasyFormLayer"
      mode="display"
      widget="collective.easyform.interfaces.IRichLabelWidget"
      />
  <z3c:widgetTemplate
      template="empty.pt"
      layer="..interfaces.IEasyFormLayer"
      mode="input"
      widget="collective.easyform.interfaces.IRichLabelWidget"
      />
  <z3c:widgetTemplate
      template="empty.pt"
      layer="..interfaces.IEasyFormLayer"
      mode="hidden"
      widget="collective.easyform.interfaces.ILabelWidget"
      />
  <browser:page
      name="ploneform-render-widget"
      for="collective.easyform.interfaces.ILabelWidget"
      permission="zope.Public"
      class=".widgets.LabelRenderWidget"
      layer="..interfaces.IEasyFormLayer"
      />
  <browser:page
      name="ploneform-render-widget"
      for="collective.easyform.interfaces.IRichLabelWidget"
      permission="zope.Public"
      class=".widgets.RichLabelRenderWidget"
      layer="..interfaces.IEasyFormLayer"
      />
  <browser:page
      name="ploneform-render-widget"
      for="collective.easyform.interfaces.IEasyFormWidget"
      layer="..interfaces.IEasyFormLayer"
      class=".widgets.RenderWidget"
      permission="zope.Public"
      />

  <adapter
      factory=".widgets.WidgetDependencyView"
      name="dependencies"
      />
  <adapter
      factory=".widgets.PloneWidgetDependencyView"
      name="dependencies"
      />

  <adapter
      factory=".widgets.WidgetCssClassView"
      name="css_class"
      />
  <adapter
      factory=".widgets.PloneWidgetCssClassView"
      name="css_class"
      />

  <!-- add CheckboxFieldWidget for ISet to enable checkbox list -->
  <adapter
      for="zope.schema.interfaces.ISet
           ..interfaces.IEasyFormFieldContext"
      factory="z3c.form.browser.checkbox.CheckBoxFieldWidget"
      />

  <!-- add RadioFieldWidget for IChoice to enable checkbox list -->
  <adapter
      for="zope.schema.interfaces.IChoice
           ..interfaces.IEasyFormFieldContext"
      factory="z3c.form.browser.radio.RadioFieldWidget"
      />

  <configure zcml:condition="installed plone.formwidget.recaptcha">
    <adapter
        provides="z3c.form.interfaces.IFieldWidget"
        for="collective.easyform.interfaces.IReCaptcha
             *"
        factory="plone.formwidget.recaptcha.widget.ReCaptchaFieldWidget"
        />
  </configure>
  <configure zcml:condition="installed plone.formwidget.hcaptcha">
    <adapter
        provides="z3c.form.interfaces.IFieldWidget"
        for="collective.easyform.interfaces.IHCaptcha
             *"
        factory="plone.formwidget.hcaptcha.widget.HCaptchaFieldWidget"
        />
  </configure>
  <configure zcml:condition="installed collective.z3cform.norobots">
    <adapter
        provides="z3c.form.interfaces.IFieldWidget"
        for="collective.easyform.interfaces.INorobotCaptcha
             *"
        factory="collective.z3cform.norobots.widget.NorobotsFieldWidget"
        />
    <z3c:widgetTemplate
        template="empty.pt"
        layer="..interfaces.IEasyFormLayer"
        mode="display"
        widget="collective.z3cform.norobots.widget.INorobotsWidget"
        />

  </configure>
</configure>
